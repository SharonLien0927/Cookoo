# GitHub Pages 部署說明

## 問題解決

### 1. 路由模式
- 已改為 `createWebHistory`（history 模式）
- 使用 `import.meta.env.BASE_URL` 自動處理基礎路徑

### 2. 404.html
- 已創建 `public/404.html`，建置後會自動複製到 `dist/404.html`
- GitHub Pages 會將所有 404 請求重定向到這個檔案
- 檔案會自動將請求重定向到 `index.html`，讓 Vue Router 處理路由

### 3. .nojekyll 檔案
- 已創建 `.nojekyll` 檔案，防止 GitHub Pages 使用 Jekyll 處理
- 這對於部署 Vue SPA 很重要

## 部署步驟

### 方法 1：使用 Git 推送（推薦）

1. 建置專案：
   ```bash
   npm run build
   ```

2. 將 `dist` 資料夾的內容推送到 GitHub 倉庫的根目錄或 `docs` 資料夾

3. 在 GitHub 設定中：
   - Settings → Pages
   - Source: 選擇 `Deploy from a branch`
   - Branch: 選擇 `main`（或你的主分支）
   - Folder: 選擇 `/`（如果 dist 內容在根目錄）或 `/docs`（如果在 docs 資料夾）

### 方法 2：使用 GitHub Actions（自動化）

可以設定 GitHub Actions 自動建置和部署，每次推送程式碼時自動更新網站。

## 本地測試

### 使用開發伺服器（推薦）
```bash
npm run dev
```
然後在瀏覽器打開 `http://localhost:3000`

### 測試建置結果
```bash
npm run build
npm run preview
```
然後在瀏覽器打開顯示的網址（通常是 `http://localhost:4173`）

### 直接打開 dist/index.html
**注意**：直接雙擊打開 `dist/index.html` 可能會出現空白頁面，因為：
- 瀏覽器的 CORS 限制
- ES modules 在 `file://` 協議下可能無法正常工作

**解決方法**：
- 使用 `npm run preview` 來測試建置結果
- 或使用簡單的 HTTP 伺服器，例如：
  ```bash
  # 使用 Python
  cd dist
  python -m http.server 8000
  
  # 使用 Node.js (需要安裝 http-server)
  npx http-server dist -p 8000
  ```

## 常見問題

### 空白頁面
1. 確認已執行 `npm run build`
2. 確認瀏覽器控制台沒有錯誤（按 F12 查看）
3. 確認資源路徑正確（應該是相對路徑 `./assets/...`）
4. 使用 `npm run preview` 測試，不要直接打開 HTML 檔案

### 路由 404
1. 確認 `404.html` 已部署
2. 確認 GitHub Pages 設定正確
3. 確認 `.nojekyll` 檔案存在

### 資源載入失敗
1. 確認 `vite.config.ts` 中的 `base` 設定正確
2. 如果部署在子路徑（如 `/Cookoo/`），需要設定 `base: '/Cookoo/'`

